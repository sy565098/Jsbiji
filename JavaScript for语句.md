## JavaScript for语句

# for 语句

for 语句是循环语句中的一种。

for 语句可以使程序在某一个条件下重复执行一段代码。

## 1. 基本语法

for 语句相对于 if 语句稍微复杂，通常为以下格式：

```
for (初始语句; 条件; 条件为真值时执行的语句) {
  // 循环体
}

```

`初始语句`会在循环开始前进行执行。

`条件`会在每次循环结束后执行，结果影响循环语句是否要继续执行。

`条件为真时执行的语句`通常会用来影响下一次计算条件的结果。

## 2. 为什么需要循环语句

循环的应用非常广泛，如果有学习过数据结构与算法，会发现大部分的算法都需要循环介入，否则会使程序变得冗余复杂。

循环开始前先声明的变量`i`用于计数，表示当前循环到第几次。

在循环开始前先将`i`设置为0，这只会执行一次，随后比较当前循环的次数是否小于数组长度，如果比数组长度小则执行`i++`，`i++`会先使用`i`的值，再做累加 ( i = i + 1) 操作，随后执行循环体，重复上述操作。

## 3. for … in

for…in 循环可以用来遍历对象的属性名。

每一次遍历拿到的 key 就是对象的某一个属性名，当属性名被遍历完后会自动退出循环。

有部分 key 是无法遍历到的，具体规则可以参阅对象章节。

## 4. 无限循环

```
for (;;) {
  console.log('loop...');
}

```

这样的循环语句会陷入无限循环。

## 5. 循环应用的例子



### 5.1 判断一个数是不是质数

```
var num = 17;

var flag = false;

var len;
var i;

for (i = 2, len = 17 -1; i <= len; i++) {
  if (num % i === 0) {
    flag = true;
    break; // break可以中断循环
  }
}

if (flag) {
  console.log(num + '不是质数');
} else {
  console.log(num + '是质数');
}

// 输出："17是质数"

```

首先要知道什么是质数，质数就是只能被1和本身整除的数。

所以如果要判断`num`是不是质数，只需要去掉头尾，从`2`循环到`num - 1`，用`num`对每一个循环数做取余操作，如果存在余数为 0 的，就说明中间有个数可以被整除，那就不是质数，反之就是质数。



### 5.2 计算阶乘

```
var num = 4;

var result = 1;

var i;
for (i = num; i > 1; i--) {
  result = result * i;
}

console.log(result); // 输出：24

```

阶乘是所有小于及等于某一数的正整数的积，如4的阶乘，在数学中表示为`4!`，结果为`4 * 3 * 2 * 1`。

在代码中，就可以用一个变量来保存每次做乘法的结果，如 4 的阶乘，就可以用变量`result`记录结果，初始值为 1，循环可以从 4 循环到 1，每次将循环到的值乘以`result`，循环结束后就可以得到结果。



## 6. 小结

循环语句和条件语句一样，是给语言带来处理业务能力的重要特性之一。

通常如果需要连续执行多次的重复操作，都应该考虑使用循环来解决。